{"version":3,"file":"MessageBody.js","sourceRoot":"","sources":["../../../src/core/api/MessageBody.ts"],"names":[],"mappings":";AAAA,yDAAyD;AACzD,mEAAmE;AACnE,iFAAiF;;;AAEjF;;;;;;;;;;GAUG;AAEH,4BAA0B;AAC1B,+CAA4C;AAC5C,qDAA2C;AAC3C,kFAA+E;AAG/E,iBAAyB,SAAQ,yBAAW;IAC1C;;OAEG;IACU,QAAQ,CAAC,wBAAiC,KAAK;;YACxD,MAAM,MAAM,GAAG,MAAM,0BAAQ,CAAC,IAAI,EAAE,EAAE,qBAAqB,EAAE,CAAC,CAAC;YAC/D,EAAE,CAAC,CAAC,MAAM,IAAI,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;gBAChC,MAAM,IAAI,yCAAmB,CAAC,2BAA2B,EAAE,MAAM,CAAC,CAAC;YACrE,CAAC;YACD,MAAM,CAAC;QACX,CAAC;KAAA;CACF;AAXD,kCAWC","sourcesContent":["// Copyright (c) 2017-2018, The Particl Market developers\n// Distributed under the GPL software license, see the accompanying\n// file COPYING or https://github.com/particl/particl-market/blob/develop/LICENSE\n\n/**\n * core.api.MessageBody\n * ------------------------------------------------\n *\n * This class is used to verify a valid payload and prepare\n * it for further actions in the services. To validate we\n * use the module 'class-validator'.\n *\n * If you want to skip missing properties just override the\n * validate method in your extended request class.\n */\n\nimport 'reflect-metadata';\nimport { RequestBody } from './RequestBody';\nimport { validate } from 'class-validator';\nimport { ValidationException } from '../../api/exceptions/ValidationException';\n\n\nexport class MessageBody extends RequestBody {\n  /**\n   * Validates the body on the basis of the validator-annotations\n   */\n  public async validate(skipMissingProperties: boolean = false): Promise<void> {\n      const errors = await validate(this, { skipMissingProperties });\n      if (errors && errors.length > 0) {\n        throw new ValidationException('Message body is not valid', errors);\n      }\n      return;\n  }\n}\n"]}