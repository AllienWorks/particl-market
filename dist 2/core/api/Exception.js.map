{"version":3,"file":"Exception.js","sourceRoot":"","sources":["../../../src/core/api/Exception.ts"],"names":[],"mappings":";AAAA,yDAAyD;AACzD,mEAAmE;AACnE,iFAAiF;;AAEjF;;;;;;;GAOG;AAEU,QAAA,WAAW,GAAG,MAAM,EAAE,CAAC;AAEpC,eAAuB,SAAQ,KAAK;IAKhC,YAAY,IAAY,EAAE,GAAG,IAAW;QACpC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;QAJZ,SAAI,GAAG,GAAG,CAAC;QAKd,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC;QAClC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,CAAC,CAAC,IAAI,eAAe,CAAC;QAC1C,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC;QAC/B,IAAI,CAAC,mBAAW,CAAC,GAAG,IAAI,CAAC;QACzB,KAAK,CAAC,iBAAiB,CAAC,IAAI,CAAC,CAAC;IAClC,CAAC;IAEM,QAAQ;QACX,MAAM,CAAC,GAAG,IAAI,CAAC,IAAI,MAAM,IAAI,CAAC,WAAW,CAAC,IAAI,IAAI,IAAI,CAAC,OAAO,EAAE,CAAC;IACrE,CAAC;CACJ;AAlBD,8BAkBC","sourcesContent":["// Copyright (c) 2017-2018, The Particl Market developers\n// Distributed under the GPL software license, see the accompanying\n// file COPYING or https://github.com/particl/particl-market/blob/develop/LICENSE\n\n/**\n * core.api.Exception\n * ------------------------------------------------\n *\n * We use this extend error for our custom errors, which we\n * call exceptions. They have a code property for the http-status,\n * global message and a body, which we will return as a json.\n */\n\nexport const isException = Symbol();\n\nexport class Exception extends Error {\n\n    public code = 500;\n    public body;\n\n    constructor(code: number, ...args: any[]) {\n        super(args[0]);\n        this.code = code;\n        this.name = this.constructor.name;\n        this.message = args[0] || 'Unknown error';\n        this.body = args[1] || args[0];\n        this[isException] = true;\n        Error.captureStackTrace(this);\n    }\n\n    public toString(): string {\n        return `${this.code} - ${this.constructor.name}:${this.message}`;\n    }\n}\n"]}